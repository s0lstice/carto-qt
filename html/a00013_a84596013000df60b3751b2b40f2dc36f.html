<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Cartographie de lieux: MontrerPoint::MontrerPoint</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- GÃ©nÃ©rÃ© par Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Cartographie de lieux&#160;<span id="projectnumber">0.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Fichiers</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('a00013.html','');
</script>
<div id="doc-content">
<div class="contents">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="a00013_a2394f46f1f84a48590fe9609094da1b8.html#a2394f46f1f84a48590fe9609094da1b8">mainlayer</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00013_a208344dba9b0c26e6386c3895eb74699.html#a208344dba9b0c26e6386c3895eb74699">mapadapter</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00013_affc6380442814816351fcf5292d38b09.html#affc6380442814816351fcf5292d38b09">mc</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00013_a8bd850181237ef293f31694834573fb1.html#a8bd850181237ef293f31694834573fb1">modelheures</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00013_ad2807acbfd88f75dc7ddd6e9328519ab.html#ad2807acbfd88f75dc7ddd6e9328519ab">modification</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="a00013_a84596013000df60b3751b2b40f2dc36f.html#a84596013000df60b3751b2b40f2dc36f">MontrerPoint</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00013_a1659c8efc2e4dbb7e136410375abb077.html#a1659c8efc2e4dbb7e136410375abb077">PointDInteretA</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="a00013_acb1b3857cd105c81dffd573d733fda30.html#acb1b3857cd105c81dffd573d733fda30">~MontrerPoint</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top" class="mempage">
<a class="anchor" id="a84596013000df60b3751b2b40f2dc36f"></a><!-- doxytag: member="MontrerPoint::MontrerPoint" ref="a84596013000df60b3751b2b40f2dc36f" args="(POI PointDInteret, QWidget *parent=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MontrerPoint::MontrerPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00014.html">POI</a>&#160;</td>
          <td class="paramname"><em>PointDInteret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QWidget *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construit la fenêtre et initialise les données importantes. </p>
<dl><dt><b>ParamÃ¨tres:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="a00014.html">POI</a></td><td>PointDInteret. La fenêtre va se construire en utilisant ses attributs </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Nous creeons un fenetre qui va afficher les attributs du point et sa position geographique, pour se faire on initialise les champs de la fenêtre avec chaque attributs Pour l'affichage de l'heure nous créeons une table et nous récuperons les heures du points à l'aide d'une requete sur la base de donnée. </dd></dl>

<p>DÃ©finition Ã  la ligne <a class="el" href="#L27">27</a> du fichier <a class="el" href="">montrerpoint.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                            :
    QDialog(parent),
    <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>(<span class="keyword">new</span> <a class="code" href="a00018.html">Ui::MontrerPoint</a>)
{

    <span class="comment">// On initialise les champs avec les attributs du POI passé en paramêtre</span>
    <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a99ec65592ba5ab0537e7fc18fac53898.html#a99ec65592ba5ab0537e7fc18fac53898">setupUi</a>(<span class="keyword">this</span>);
    <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_ab76ac61d3ff80d2af9d6c96151659592.html#ab76ac61d3ff80d2af9d6c96151659592">lineEdit</a>-&gt;setText(PointDInteret.<a class="code" href="a00014_a21c3cf3a3e3a220a9a926b1b108626fb.html#a21c3cf3a3e3a220a9a926b1b108626fb">GetCat</a>());
    <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_adfef2884896a0a16615e8d0cc0420b81.html#adfef2884896a0a16615e8d0cc0420b81">lineEdit_2</a>-&gt;setText(PointDInteret.<a class="code" href="a00014_a1c2e342a9f0d189ec2a7f376d3cd6b03.html#a1c2e342a9f0d189ec2a7f376d3cd6b03">GetName</a>());
    <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a32e1a83b00fb1194e6dff539fb1ef200.html#a32e1a83b00fb1194e6dff539fb1ef200">lineEdit_3</a>-&gt;setText(QString::number(PointDInteret.<a class="code" href="a00014_aa5b4a4a635f1cf7b096d0610a683cf29.html#aa5b4a4a635f1cf7b096d0610a683cf29">Getlat</a>()));
    <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a326e59496c21dc65a32b2d9e3a32cd98.html#a326e59496c21dc65a32b2d9e3a32cd98">lineEdit_4</a>-&gt;setText(QString::number(PointDInteret.<a class="code" href="a00014_a991a068f59ee5df1a8695d982f79863f.html#a991a068f59ee5df1a8695d982f79863f">Getlon</a>()));
    <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_aec323a70c8c742c6dc74397a5886de05.html#aec323a70c8c742c6dc74397a5886de05">plainTextEdit</a>-&gt;appendPlainText(PointDInteret.<a class="code" href="a00014_ad3e54d9834f4700f4540bde6ab306039.html#ad3e54d9834f4700f4540bde6ab306039">GetDesc</a>());

    <span class="comment">// On dessine une carte sur laquel nous allons ajouter un point</span>

    QVBoxLayout Temp;
     <a class="code" href="a00013_affc6380442814816351fcf5292d38b09.html#affc6380442814816351fcf5292d38b09">mc</a> = <span class="keyword">new</span> MapControl(QSize(211  , 280));
    <a class="code" href="a00013_affc6380442814816351fcf5292d38b09.html#affc6380442814816351fcf5292d38b09">mc</a>-&gt;showScale(<span class="keyword">true</span>);
   <a class="code" href="a00013_a208344dba9b0c26e6386c3895eb74699.html#a208344dba9b0c26e6386c3895eb74699">mapadapter</a> = <span class="keyword">new</span> OSMMapAdapter();
   <a class="code" href="a00013_a2394f46f1f84a48590fe9609094da1b8.html#a2394f46f1f84a48590fe9609094da1b8">mainlayer</a> = <span class="keyword">new</span> MapLayer(<span class="stringliteral">&quot;OpenStreetMap-Layer&quot;</span>, <a class="code" href="a00013_a208344dba9b0c26e6386c3895eb74699.html#a208344dba9b0c26e6386c3895eb74699">mapadapter</a>);
   <a class="code" href="a00013_affc6380442814816351fcf5292d38b09.html#affc6380442814816351fcf5292d38b09">mc</a>-&gt;addLayer(<a class="code" href="a00013_a2394f46f1f84a48590fe9609094da1b8.html#a2394f46f1f84a48590fe9609094da1b8">mainlayer</a>);
   <a class="code" href="a00013_affc6380442814816351fcf5292d38b09.html#affc6380442814816351fcf5292d38b09">mc</a>-&gt;setView(QPointF(PointDInteret.<a class="code" href="a00014_aa5b4a4a635f1cf7b096d0610a683cf29.html#aa5b4a4a635f1cf7b096d0610a683cf29">Getlat</a>(),PointDInteret.<a class="code" href="a00014_a991a068f59ee5df1a8695d982f79863f.html#a991a068f59ee5df1a8695d982f79863f">Getlon</a>()));
   <a class="code" href="a00013_affc6380442814816351fcf5292d38b09.html#affc6380442814816351fcf5292d38b09">mc</a>-&gt;setZoom(13);
   Temp.addWidget(<a class="code" href="a00013_affc6380442814816351fcf5292d38b09.html#affc6380442814816351fcf5292d38b09">mc</a>);
   <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_aadc467dc4ce299fe8ae105af991f38b6.html#aadc467dc4ce299fe8ae105af991f38b6">widget</a>-&gt;setLayout(&amp;Temp);

   <span class="comment">// On dessine le point sur la carte</span>

   QPen* pointpen = <span class="keyword">new</span> QPen(QColor(0,255,0));
   pointpen-&gt;setWidth(3);

   CirclePoint* PointA = <span class="keyword">new</span>  CirclePoint(PointDInteret.<a class="code" href="a00014_aa5b4a4a635f1cf7b096d0610a683cf29.html#aa5b4a4a635f1cf7b096d0610a683cf29">Getlat</a>(),PointDInteret.<a class="code" href="a00014_a991a068f59ee5df1a8695d982f79863f.html#a991a068f59ee5df1a8695d982f79863f">Getlon</a>(),PointDInteret.<a class="code" href="a00014_a1c2e342a9f0d189ec2a7f376d3cd6b03.html#a1c2e342a9f0d189ec2a7f376d3cd6b03">GetName</a>(),Point::Middle,pointpen);
   <a class="code" href="a00013_a2394f46f1f84a48590fe9609094da1b8.html#a2394f46f1f84a48590fe9609094da1b8">mainlayer</a>-&gt;addGeometry(PointA);
   <a class="code" href="a00013_a2394f46f1f84a48590fe9609094da1b8.html#a2394f46f1f84a48590fe9609094da1b8">mainlayer</a>-&gt;setVisible(<span class="keyword">false</span>);
   <a class="code" href="a00013_a2394f46f1f84a48590fe9609094da1b8.html#a2394f46f1f84a48590fe9609094da1b8">mainlayer</a>-&gt;setVisible(<span class="keyword">true</span>);

   <span class="comment">// On connecte le boutton quitter à l&#39;evenemnt fermer</span>
   connect(<a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_add956379d3ccdc4a470d6fafffed74d1.html#add956379d3ccdc4a470d6fafffed74d1">BouttonFermer</a>,SIGNAL(clicked()),<span class="keyword">this</span>,SLOT(close()));
   connect(<a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a25159f8471167dd17cdd2e907b9110b8.html#a25159f8471167dd17cdd2e907b9110b8">BouttonModification</a>,SIGNAL(clicked()),<span class="keyword">this</span>,SLOT(<a class="code" href="a00013_ad2807acbfd88f75dc7ddd6e9328519ab.html#ad2807acbfd88f75dc7ddd6e9328519ab">modification</a>()));
    <a class="code" href="a00013_a1659c8efc2e4dbb7e136410375abb077.html#a1659c8efc2e4dbb7e136410375abb077">PointDInteretA</a> = PointDInteret;
   <span class="comment">// Création de la table et recuperation des heurs ainsi que l&#39;affichage de celles-ci</span>
   <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a5d20589310a72b22af4a53956b2294a9.html#a5d20589310a72b22af4a53956b2294a9">tableWidget</a>-&gt;setHorizontalHeaderItem(0,<span class="keyword">new</span> QTableWidgetItem(<span class="stringliteral">&quot;Jour&quot;</span>));
   <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a5d20589310a72b22af4a53956b2294a9.html#a5d20589310a72b22af4a53956b2294a9">tableWidget</a>-&gt;setHorizontalHeaderItem(1,<span class="keyword">new</span> QTableWidgetItem(<span class="stringliteral">&quot;Debut&quot;</span>));
   <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a5d20589310a72b22af4a53956b2294a9.html#a5d20589310a72b22af4a53956b2294a9">tableWidget</a>-&gt;setHorizontalHeaderItem(2,<span class="keyword">new</span> QTableWidgetItem(<span class="stringliteral">&quot;Fin&quot;</span>));

   QVector&lt;heure&gt;Horaires = <a class="code" href="a00033_a0619f9b984a4c68485b72e664c18952d.html#a0619f9b984a4c68485b72e664c18952d" title="fonction : permet d&#39;obtenir les plages horaire d&#39;un point">getHeureByPoint</a>(PointDInteret.<a class="code" href="a00014_a3b511b8714fdadf765e24adf37e51124.html#a3b511b8714fdadf765e24adf37e51124">GetId</a>());
   <span class="keywordtype">int</span> i = 0;
   qDebug()&lt;&lt;<span class="stringliteral">&quot;Reussite 1&quot;</span>;
   <span class="keywordflow">for</span>(i=0;i&lt;Horaires.count();i++)
   {
        <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a5d20589310a72b22af4a53956b2294a9.html#a5d20589310a72b22af4a53956b2294a9">tableWidget</a>-&gt;insertRow(i);
        <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a5d20589310a72b22af4a53956b2294a9.html#a5d20589310a72b22af4a53956b2294a9">tableWidget</a>-&gt;setRowCount(i+1);
        <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a5d20589310a72b22af4a53956b2294a9.html#a5d20589310a72b22af4a53956b2294a9">tableWidget</a>-&gt;setItem(i,0,<span class="keyword">new</span> QTableWidgetItem(<a class="code" href="a00035_a152678b2a8d06834e4b6f7d994814542.html#a152678b2a8d06834e4b6f7d994814542" title="fonction : permet de connaitre le jour en fonction de l&#39;identifiant">jourById</a>(Horaires.value(i).getJour())));
        <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a5d20589310a72b22af4a53956b2294a9.html#a5d20589310a72b22af4a53956b2294a9">tableWidget</a>-&gt;setItem(i,1,<span class="keyword">new</span> QTableWidgetItem(Horaires.value(i).getDebut()));
        <a class="code" href="a00013_a9123a5a1b243b317c7fc304d3369c627.html#a9123a5a1b243b317c7fc304d3369c627">ui</a>-&gt;<a class="code" href="a00022_a5d20589310a72b22af4a53956b2294a9.html#a5d20589310a72b22af4a53956b2294a9">tableWidget</a>-&gt;setItem(i,2,<span class="keyword">new</span> QTableWidgetItem(Horaires.value(i).getFin()));
   }


}
</pre></div>
</div>
</div>
    </td>
  </tr>
</table>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="a00013.html">MontrerPoint</a>      </li>
      <li class="footer">GÃ©nÃ©rÃ© le Sun Mar 25 2012 20:04:26 pour Cartographie de lieux par&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Tout</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Fichiers</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Fonctions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
